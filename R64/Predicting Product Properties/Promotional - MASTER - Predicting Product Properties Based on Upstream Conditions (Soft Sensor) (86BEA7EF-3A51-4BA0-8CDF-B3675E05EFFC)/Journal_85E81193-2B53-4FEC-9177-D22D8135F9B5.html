<h3><strong>Identifying Excursions:</strong></h3><p>This worksheet identifies time periods when the Product Viscosity deviated from the specification range and compares the behavior of the model over these events.</p><h4><a href="/links?type&#61;workstep&amp;workbook&#61;86BEA7EF-3A51-4BA0-8CDF-B3675E05EFFC&amp;worksheet&#61;85E81193-2B53-4FEC-9177-D22D8135F9B5&amp;workstep&#61;ECAD8BBA-983E-49E2-8CB0-AC1523128ED5" rel="nofollow noopener noreferrer">Display Starting Point</a></h4><p><strong>Identifying deviations from the product quality specifications</strong>:</p><p>1. Create a condition for when the actual product viscosity is outside of the specification limits. This can be done using the Deviation Search Tool. (<a href="/links?type&#61;workstep&amp;workbook&#61;86BEA7EF-3A51-4BA0-8CDF-B3675E05EFFC&amp;worksheet&#61;85E81193-2B53-4FEC-9177-D22D8135F9B5&amp;workstep&#61;BD8BBCE3-9927-4298-9DCE-71636182376B" rel="nofollow noopener noreferrer">work step</a>)</p><p><strong>Identifying when the Predicted Viscosity falls on the same side of target as the Actual Viscosity during deviations from product quality specifications:</strong></p><p>2. We want to identify the periods of time when the actual viscosity is outside the specification limits (high or low), AND the Predicted viscosity is also on the same high or low side of the target. </p><p>2a. Create a new signal for the difference between the Predicted Viscosity and Target Viscosity using Seeq formula. (<a href="/links?type&#61;workstep&amp;workbook&#61;86BEA7EF-3A51-4BA0-8CDF-B3675E05EFFC&amp;worksheet&#61;85E81193-2B53-4FEC-9177-D22D8135F9B5&amp;workstep&#61;FC546C81-1E8D-49A5-A076-AC3C52D59781" rel="nofollow noopener noreferrer">work step</a>)</p><p>2b. Create two new conditions for when the predicted viscosity is above/below target using value search.</p><ul><li>Predicted Viscosity High (<a href="/links?type&#61;workstep&amp;workbook&#61;86BEA7EF-3A51-4BA0-8CDF-B3675E05EFFC&amp;worksheet&#61;85E81193-2B53-4FEC-9177-D22D8135F9B5&amp;workstep&#61;1DEE625E-FADD-43C1-A6BB-57239A17C3F8" rel="nofollow noopener noreferrer">work step</a>)</li><li>Predicted Viscosity Low (<a href="/links?type&#61;workstep&amp;workbook&#61;86BEA7EF-3A51-4BA0-8CDF-B3675E05EFFC&amp;worksheet&#61;85E81193-2B53-4FEC-9177-D22D8135F9B5&amp;workstep&#61;787834A3-6508-4C9E-ACDE-AC0280489A13" rel="nofollow noopener noreferrer">work step</a>)</li></ul><p>2c. Create two new conditions for when the Actual Viscosity if OS high and OS low using Deviation Search.</p><ul><li>Actual Viscosity OS High (<a href="/links?type&#61;workstep&amp;workbook&#61;86BEA7EF-3A51-4BA0-8CDF-B3675E05EFFC&amp;worksheet&#61;85E81193-2B53-4FEC-9177-D22D8135F9B5&amp;workstep&#61;1FA6D6FD-AE12-49CB-B353-5F0CA8CF6E54" rel="nofollow noopener noreferrer">work step</a>)</li><li>Actual Viscosity OS Low (<a href="/links?type&#61;workstep&amp;workbook&#61;86BEA7EF-3A51-4BA0-8CDF-B3675E05EFFC&amp;worksheet&#61;85E81193-2B53-4FEC-9177-D22D8135F9B5&amp;workstep&#61;C983E105-30C5-4701-968C-A017CBC8EB18" rel="nofollow noopener noreferrer">work step</a>)</li></ul><p>2d. Use composite condition to identify when the Actual Viscosity is OS high or low and the model is predicting the same direction from target.</p><ul><li>Predicted Viscosity High &#43; Actual Viscosity OS High (<a href="/links?type&#61;workstep&amp;workbook&#61;86BEA7EF-3A51-4BA0-8CDF-B3675E05EFFC&amp;worksheet&#61;85E81193-2B53-4FEC-9177-D22D8135F9B5&amp;workstep&#61;1B46371A-C1DE-4BB8-94D4-C97962AA9002" rel="nofollow noopener noreferrer">work step</a>)</li><li>Predicted Viscosity Low &#43; Actual Viscosity OS Low (<a href="/links?type&#61;workstep&amp;workbook&#61;86BEA7EF-3A51-4BA0-8CDF-B3675E05EFFC&amp;worksheet&#61;85E81193-2B53-4FEC-9177-D22D8135F9B5&amp;workstep&#61;F06E2C79-638F-4AAF-95F6-0554B4031E77" rel="nofollow noopener noreferrer">work step</a>)</li></ul><p>2e. Use composite condition to combine the conditions from step 2d into a condition called &#34;Model Predicts Correct Direction from Target&#34;. Remove intermediate signals/conditions. (<a href="/links?type&#61;workstep&amp;workbook&#61;86BEA7EF-3A51-4BA0-8CDF-B3675E05EFFC&amp;worksheet&#61;85E81193-2B53-4FEC-9177-D22D8135F9B5&amp;workstep&#61;4C299AD5-EFAE-4640-A9E3-47779CEC9CF1" rel="nofollow noopener noreferrer">work step</a>)</p><h4><a href="/links?type&#61;workstep&amp;workbook&#61;86BEA7EF-3A51-4BA0-8CDF-B3675E05EFFC&amp;worksheet&#61;85E81193-2B53-4FEC-9177-D22D8135F9B5&amp;workstep&#61;D5190AA1-6BC2-4556-9053-6F7C7D10428C" rel="nofollow noopener noreferrer">Final View</a></h4><p><br></p><p>*<em>Formula can be used to condense steps 2a-2e into one operation (code below). </em></p><pre><code>$ViscosityDelta &#61; $Viscosity - $Target

$ModelDelta &#61; $Model - $Target 

$ViscosityHigh &#61; $ViscosityDelta.valuesearch(4d, isGreaterThan(0))
$ViscosityLow &#61; $ViscosityDelta.valuesearch(4d, isLessThan(0))

$ModelHigh &#61; $ModelDelta.valuesearch(4d, isGreaterThan(0))
$ModelLow &#61; $ModelDelta.valuesearch(4d, isLessThan(0))

$ViscosityOSLow &#61; $ViscosityLow.intersect($OffSpec)
$ViscosityOSHigh &#61; $ViscosityHigh.intersect($OffSpec)

$ModelHighAndViscOSHigh &#61; $ViscosityOSHigh.intersect($ModelHigh)
$ModelLowAndViscOSLow &#61; $ViscosityOSLow.intersect($ModelLow)

$ModelHighAndViscOSHigh.union($ModelLowAndViscOSLow, 4d)</code></pre><p><br></p><p><br></p>